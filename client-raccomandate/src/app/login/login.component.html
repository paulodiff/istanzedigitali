
<!-- Not logged! -->

<div *ngIf="!_userService.token" class="alert alert-light">

  <h1>Accesso</h1>   
  <form [formGroup]="form" (ngSubmit)="submit()">
    <formly-form [model]="model" [fields]="fields" [options]="options" [form]="form">
      <button type="submit" class="btn btn-primary submit-button" [disabled]="!form.valid">Invia</button>
    </formly-form>
  </form>
   

</div>

<!--  logged! -->

<div *ngIf="_userService.token">

  <h3>Accesso effettuato con i seguenti dati:</h3>
  <table class="table table-striped bg-light">
        <tr><td>Utente</td><td> {{ _userService.username }}</td></tr>
        <tr><td>Scadenza</td><td> {{ _userService.token_expires }}</td></tr>
        <tr><td>Ruolo</td><td> {{ _userService.role }}</td></tr>
        <tr><td>Amministratore</td><td>{{ _userService.isAdmin }}</td></tr>
  </table>  

  <button (click)="refreshToken()" class="btn btn-primary">Refresh Token</button>
  <br/>
  <button (click)="logout()" class="btn btn-primary">Log Out</button>
  
</div>



<!--
  <button class="Button Button--info u-text-r-xs" type="button" (click)="testSse()">Check Sse</button>
-->
