<ion-view class="" title="Lista Segnalazioni" left-buttons="leftButtons" right-buttons="rightButtons">
    
    <ion-nav-bar class="bar-royal">
    <ion-nav-buttons side="left">
      <button class="button button-icon button-clear ion-navicon" ng-click="toggleLeft()"></button>
    </ion-nav-buttons>
      <ion-nav-buttons side="right" >
        <button class="button button-icon ion-more" ng-click="popover.show($event)"></button>
      </ion-nav-buttons>
    </ion-nav-bar>
    
    <ion-content has-header="true">
        <div>
           <ion-list>
            </ion-list>
              <div class="row">
                <div class="col">
                
                <form name="myForm">

            <label class="item item-input">
                <div class="input-label"><b>Segnalazioni del:</b></div>
                <input type="date" 
                        ng-model="frmData.dateFilter"
                        ng-change="dateChanged()">
                </label>

                    <button class="button button-assertive button-block" ng-click="refreshDati()">Premi per aggiornare i dati</button>
      
                </form>


                </div>
              </div>


            <ion-list>
                <ion-item ng-repeat="item in items" class="card">
                   
                <div class="item row item-text-wrap">
                 <div class="col" style="text-align:center; padding: 0px; margin: 0px;"><b><p>Data</p></b>{{::item.data_creazione}}</div>
                 <div class="col" style="text-align:center; padding: 0px; margin: 0px;"><b><p>Ora</p></b>{{::item.ora_creazione}}</div>
                 <div class="col" style="text-align:center; padding: 0px; margin: 0px;"><b><p>Numero</p></b>{{::item.protocollo }}</div>
                </div>

                <div class="item row item-text-wrap">
                 <div class="col col-25"><b><p>Tipo</p></b></div>
                 <div class="col col-75">{{::item.tipo_segnalazione | utc8change}}</div>
                </div>
<!--
                <div class="item row item-text-wrap">
                 <div class="col"><b><p>Tipo</p></b>{{item.tipo_segnalazione | utc8change}}</div>
                </div>
-->
                <div class="item row item-text-wrap">
                <div class="col col-25"><b><p>Sogg.</p></b></div>
                <div class="col col-75">{{::item.richiedente_nominativo}}</div>
                </div>

                <div class="item row item-text-wrap">
                <div class="col col-25"><b><p>Indir.</p></b></div>
                <div class="col col-75">{{::item.evento_indirizzo1}}</div>
                </div>

                <div class="item row item-text-wrap">
                <div class="col col-25"><b><p>Ogg.</p></b></div>
                <div class="col col-75">{{::item.descrizione_breve | utc8change }}{{::item.descrizione_dettagliata | utc8change }}</div>
                </div>
<!--
                <div class="item row item-text-wrap">
                <div class="col"><b><p>Oggetto</p></b>{{item.descrizione_breve | utc8change }}{{item.descrizione_dettagliata | utc8change }}</div>
                </div>
-->
                <!--
                  <p><b>{{item.data_creazione}} - {{item.ora_creazione}} - {{item.protocollo}}</b></p>
                  <p><b>Tipo:</b>{{item.tipo_segnalazione | utc8change}}</p>
                  <p><b>Richiedente:</b>{{item.richiedente_nominativo}}</p>
                  <p><b>Indirizzo:</b>{{item.evento_indirizzo1}}</p>
                  <p>{{item.descrizione_breve | utc8change }}</p>
                  <p>{{item.descrizione_dettagliata | utc8change}}</p>
                -->

                  <!-- <hr ng-show="item.q2.length"> -->
                  <div ng-repeat="intervento in item.q2">

                <div class="item row">
                <div class="col col-100"><b><p>Intervento:{{::intervento.stato}}</p></b></div>
                </div>

                <div class="item row item-text-wrap">
                 <div class="col" style="text-align:center; padding: 0px; margin: 0px;"><b><p>Pattuglia</p></b>{{::intervento.nome}}</div>
                 <div class="col" style="text-align:center; padding: 0px; margin: 0px;"><b><p>Equipaggio</p></b>{{::intervento.equipaggio_completo}}</div>
                 <div class="col" style="text-align:center; padding: 0px; margin: 0px;"><b><p>Codice radio</p></b>{{::intervento.codiceradio_veicolo}}</div>
                </div>
                <!--
                <div class="item row">
                <div class="col col-100"><p>{{intervento.note | utc8change }}</p></div>
                </div>
                -->

                <div class="item row item-text-wrap">
                <div class="col col-25"><b><p>Ordini</p></b></div>
                <div class="col col-75">{{::intervento.ordini | utc8change}}</div>
                </div>
                <div class="item row item-text-wrap">
                <div class="col col-25"><b><p>Esito</p></b></div>
                <div class="col col-75">{{::intervento.esito | utc8change}}</div>
                </div>
<!--

                      <b>{{intervento.stato}}</b><br/>
                      Pattuglia({{intervento.id_cro_pattuglie}}): {{intervento.nome | utc8change }} - {{intervento.equipaggio_completo | utc8change }} - ({{intervento.codiceradio_veicolo}})<br/> 
                      Note pattuglia: {{intervento.note | utc8change }} <br/> 
                      Ordini: <b>{{intervento.ordini | utc8change}}</b><br/>
                      Esito: <b>{{intervento.esito | utc8change}}</b>
                  </div>
-->
                  <!-- <hr ng-show="item.q3.length"> -->

                  <div ng-repeat="comunicazione in item.q3">
                  <div class="item row item-text-wrap">
                    <div class="col"><b><p>Comunicazione</p></b>{{::comunicazione.comunicazione | utc8change}}</div>
                  </div>
                  </div>


                  <!--                                           
                    <ion-option-button class="button-positive"
                       ng-click="viewItem(item.id)">
                        Dettagli
                    </ion-option-button>
                  -->
                </ion-item>
                <ion-item ng-hide="items.length" class="card item-text-wrap">
                    <h2>Non ci sono elementi da visualizzare</h2>
                    <h2>Modificare le impostazioni di ricerca</h2>
                </ion-item>
            </ion-list>

        </div>
    </ion-content>
</ion-view>   
